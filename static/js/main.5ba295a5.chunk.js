(this["webpackJsonpmy-music-app"]=this["webpackJsonpmy-music-app"]||[]).push([[0],{45:function(e,t,n){},63:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(14),s=n.n(a),i=(n(45),n(25)),l=n(33),o=n(34),u=n.n(o),j=n(39),d=n(15),b=n(74),h=n(76),g=(n(47),n(66)),O=n(67),f=n(35),x=n(40),m=n(5),p=Object(x.a)(),v=function(e){return Object(m.jsxs)(g.a,{className:"justify-content-center",style:{position:"sticky",top:0,zIndex:1e5},children:[Object(m.jsx)(O.a,{xs:12,sm:5,className:"m-2",children:Object(m.jsx)(f.a,{isMulti:!0,value:e.filter.genre,name:"genre",options:e.genres,className:"basic-multi-select",classNamePrefix:"select",placeholder:"Select Genres...",components:p,onChange:e.handleChange})}),Object(m.jsx)(O.a,{xs:12,sm:5,className:"m-2",children:Object(m.jsx)(f.a,{value:e.filter.RY,className:"basic-single",classNamePrefix:"select",isClearable:!0,isSearchable:!0,name:"RY",placeholder:"Select Year...",options:e.releaseYear,onChange:e.handleChange})})]})},y=n(68),C=n(69),Y=n(70),N=n(71),k=n(72),w=function(e){return Object(m.jsx)(g.a,{children:e.isLoading?Object(m.jsx)("div",{style:{textAlign:"center",paddingTop:"9rem"},children:Object(m.jsx)("div",{className:"spinner-border",role:"status"})}):0===e.videos.length?Object(m.jsx)("div",{style:{textAlign:"center",paddingTop:"9rem"},children:"No Music Found!"}):e.videos.slice(0,e.cardsCount).map((function(e){var t=e.image_url,n=e.artist,c=e.title,r=e.id;return Object(m.jsx)(O.a,{sm:"4",xs:"12",lg:"3",children:Object(m.jsxs)(y.a,{outline:!0,color:"success",className:"m-2 text-center",style:{maxHeight:"20rem"},children:[Object(m.jsx)(C.a,{style:{width:"100%",height:"50vw",objectFit:"cover"},src:t,alt:c}),Object(m.jsxs)(Y.a,{children:[Object(m.jsx)(N.a,{tag:"h6",children:n}),Object(m.jsx)(k.a,{tag:"h6",className:"mb-2 text-muted",children:c})]})]})},r)}))})},R=n(73),S=n(75),M=function(){return Object(m.jsx)(R.a,{color:"light",light:!0,expand:"md",style:{minHeight:"10vh"},children:Object(m.jsx)(b.a,{children:Object(m.jsx)(S.a,{className:"cursor-pointer",onClick:function(){return window.location.reload()},children:"My Music App"})})})};function _(e,t){return e.filter((function(e,n,c){return c.findIndex((function(n){return n[t]===e[t]}))===n}))}var F=function(){return Object(m.jsx)(R.a,{style:{background:"#252729",minHeight:"10vh"},expand:"md",className:"mt-2",children:Object(m.jsx)(b.a,{children:Object(m.jsx)(S.a,{className:"cursor-pointer",onClick:function(){return window.location.reload()},children:"\xa9 My Music App"})})})};var A=function(){var e=Object(c.useState)([]),t=Object(d.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)([]),s=Object(d.a)(a,2),o=s[0],g=s[1],O=Object(c.useState)([]),f=Object(d.a)(O,2),x=f[0],p=f[1],y=Object(c.useState)([]),C=Object(d.a)(y,2),Y=C[0],N=C[1],k=Object(c.useState)({action:""}),R=Object(d.a)(k,2),S=R[0],A=R[1],T=Object(c.useState)(!1),L=Object(d.a)(T,2),P=L[0],E=L[1],H=Object(c.useState)(),I=Object(d.a)(H,2),B=I[0],D=I[1],J=Object(c.useState)(12),z=Object(d.a)(J,2),G=z[0],V=z[1];return Object(c.useEffect)((function(){(function(){var e=Object(j.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://raw.githubusercontent.com/XiteTV/frontend-coding-exercise/main/data/dataset.json");case 3:return t=e.sent,E(!0),e.next=7,t.json();case 7:n=e.sent,E(!1),r(n.genres.map((function(e){return{value:e.id,label:e.name}}))),N(_(n.videos.map((function(e){var t=e.release_year;return{value:t,label:t}})),"value")),p(n.videos),g(n.videos),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),console.log("error",e.t0),D(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(c.useEffect)((function(){S.genre&&!S.RY?S.genre.length?p(o.filter((function(e){var t=e.genre_id;return S.genre.map((function(e){return e.value})).includes(t)}))):p(o):S.RY&&!S.genre?S.RY?p(o.filter((function(e){return S.RY.value===e.release_year}))):p(o):Object.keys(S).includes("RY")&&!S.genre&&"clear"===S.action?p(o):S.genre&&!S.RY?p(x.filter((function(e){return S.RY.value===e.release_year}))):S.genre&&S.RY&&(S.genre.length?p(o.filter((function(e){return S.RY.value===e.release_year&&S.genre.map((function(e){return e.value})).includes(e.genre_id)}))):p(o.filter((function(e){return S.RY.value===e.release_year}))))}),[S]),Object(m.jsxs)("div",{children:[Object(m.jsx)(M,{}),Object(m.jsx)(b.a,{style:{minHeight:"80vh"},children:B?Object(m.jsxs)("div",{style:{textAlign:"center",paddingTop:"9rem"},children:["Error!",Object(m.jsx)(h.a,{color:"link",onClick:function(){return window.location.reload()},children:"Refresh Page"})]}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(v,{filter:S,genres:n,handleChange:function(e,t){var n=t.action,c=t.name;A(Object(l.a)(Object(l.a)({},S),{},Object(i.a)({action:n},c,e)))},releaseYear:Y}),Object(m.jsx)(w,{isLoading:P,videos:x,cardsCount:G}),x.length>G&&Object(m.jsx)("div",{style:{textAlign:"center"},children:Object(m.jsx)("div",{color:"link",onClick:function(){V(G+12)},style:{cursor:"pointer",fontWeight:400,color:"#0d6efd",textDecoration:"underline"},children:"Load More..."})})]})}),Object(m.jsx)(F,{})]})},T=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,77)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),a(e),s(e)}))};s.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(A,{})}),document.getElementById("root")),T()}},[[63,1,2]]]);
//# sourceMappingURL=main.5ba295a5.chunk.js.map