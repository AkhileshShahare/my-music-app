(this["webpackJsonpmy-music-app"]=this["webpackJsonpmy-music-app"]||[]).push([[0],{45:function(e,t,n){},63:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(14),s=n.n(a),i=(n(45),n(24)),l=n(33),o=n(34),u=n.n(o),j=n(39),d=n(15),b=n(74),h=n(76),g=(n(47),n(66)),O=n(67),f=n(35),x=n(40),m=n(5),v=Object(x.a)(),p=function(e){return Object(m.jsxs)(g.a,{className:"justify-content-center",children:[Object(m.jsx)(O.a,{xs:12,sm:5,className:"m-2",children:Object(m.jsx)(f.a,{isMulti:!0,value:e.filter.genre,name:"genre",options:e.genres,className:"basic-multi-select",classNamePrefix:"select",placeholder:"Select Genres...",components:v,onChange:e.handleChange})}),Object(m.jsx)(O.a,{xs:12,sm:5,className:"m-2",children:Object(m.jsx)(f.a,{value:e.filter.RY,className:"basic-single",classNamePrefix:"select",isClearable:!0,isSearchable:!0,name:"RY",placeholder:"Select Year...",options:e.releaseYear,onChange:e.handleChange})})]})},y=n(68),Y=n(69),C=n(70),R=n(71),S=n(72),N=function(e){return Object(m.jsx)(g.a,{children:e.isLoading?Object(m.jsx)("div",{style:{textAlign:"center",paddingTop:"9rem"},children:Object(m.jsx)("div",{className:"spinner-border",role:"status"})}):0===e.videos.length?Object(m.jsx)("div",{style:{textAlign:"center",paddingTop:"9rem"},children:"No Data Found"}):e.videos.slice(0,e.cardsCount).map((function(e){var t=e.image_url,n=e.artist,c=e.title,r=e.id;return Object(m.jsx)(O.a,{sm:"4",xs:"12",lg:"3",children:Object(m.jsxs)(y.a,{outline:!0,color:"success",className:"m-2 text-center",style:{maxHeight:"20rem"},children:[Object(m.jsx)(Y.a,{style:{width:"100%",height:"50vw",objectFit:"cover"},src:t,alt:c}),Object(m.jsxs)(C.a,{children:[Object(m.jsx)(R.a,{tag:"h6",children:n}),Object(m.jsx)(S.a,{tag:"h6",className:"mb-2 text-muted",children:c})]})]})},r)}))})},k=n(73),w=n(75),_=function(){return Object(m.jsx)(k.a,{color:"light",light:!0,expand:"md",children:Object(m.jsx)(b.a,{children:Object(m.jsx)(w.a,{href:"/",children:"My Music App"})})})};function F(e,t){return e.filter((function(e,n,c){return c.findIndex((function(n){return n[t]===e[t]}))===n}))}var T=function(){var e=Object(c.useState)([]),t=Object(d.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)([]),s=Object(d.a)(a,2),o=s[0],g=s[1],O=Object(c.useState)([]),f=Object(d.a)(O,2),x=f[0],v=f[1],y=Object(c.useState)([]),Y=Object(d.a)(y,2),C=Y[0],R=Y[1],S=Object(c.useState)({action:""}),k=Object(d.a)(S,2),w=k[0],T=k[1],A=Object(c.useState)(!1),L=Object(d.a)(A,2),M=L[0],P=L[1],E=Object(c.useState)(),I=Object(d.a)(E,2),B=I[0],D=I[1],J=Object(c.useState)(12),G=Object(d.a)(J,2),H=G[0],V=G[1];return Object(c.useEffect)((function(){(function(){var e=Object(j.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://raw.githubusercontent.com/XiteTV/frontend-coding-exercise/main/data/dataset.json");case 3:return t=e.sent,P(!0),e.next=7,t.json();case 7:n=e.sent,P(!1),r(n.genres.map((function(e){return{value:e.id,label:e.name}}))),R(F(n.videos.map((function(e){var t=e.release_year;return{value:t,label:t}})),"value")),v(n.videos),g(n.videos),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),console.log("error",e.t0),D(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(c.useEffect)((function(){w.genre&&!w.RY?w.genre.length?v(o.filter((function(e){var t=e.genre_id;return w.genre.map((function(e){return e.value})).includes(t)}))):v(o):w.RY&&!w.genre?w.RY?v(o.filter((function(e){return w.RY.value===e.release_year}))):v(o):Object.keys(w).includes("RY")&&!w.genre&&"clear"===w.action?v(o):w.genre&&!w.RY?v(x.filter((function(e){return w.RY.value===e.release_year}))):w.genre&&w.RY&&(w.genre.length?v(o.filter((function(e){return w.RY.value===e.release_year&&w.genre.map((function(e){return e.value})).includes(e.genre_id)}))):v(o.filter((function(e){return w.RY.value===e.release_year}))))}),[w]),Object(m.jsxs)("div",{children:[Object(m.jsx)(_,{}),Object(m.jsx)(b.a,{children:B?Object(m.jsxs)("div",{style:{textAlign:"center",paddingTop:"9rem"},children:["Error!",Object(m.jsx)(h.a,{color:"link",onClick:function(){return window.location.reload()},children:"Refresh Page"})]}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(p,{filter:w,genres:n,handleChange:function(e,t){var n=t.action,c=t.name;T(Object(l.a)(Object(l.a)({},w),{},Object(i.a)({action:n},c,e)))},releaseYear:C}),Object(m.jsx)(N,{isLoading:M,videos:x,cardsCount:H}),x.length>H&&Object(m.jsx)("div",{style:{textAlign:"center"},children:Object(m.jsx)(h.a,{color:"link",onClick:function(){V(H+12)},children:"Load More..."})})]})})]})},A=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,77)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),a(e),s(e)}))};s.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(T,{})}),document.getElementById("root")),A()}},[[63,1,2]]]);
//# sourceMappingURL=main.54b80a4d.chunk.js.map